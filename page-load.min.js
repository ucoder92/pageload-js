/*
 Page load - jQuery library
 URL: https://github.com/ucoder92/pageload-js
 Version: 1.0.4
 */var pageLoadConfig={selector:"a",excludeJS:[],excludeElement:['[page-load-exclude="1"]','[page-load-exclude="true"]'],beforeSend:null,onLoad:null,onSuccess:null,onError:null},pageLoadInit=function(e){null!=e.selector&&""!=e.selector&&(pageLoadConfig.selector=e.selector),null!=e.excludeJS&&e.excludeJS.length>0&&(pageLoadConfig.excludeJS=e.excludeJS),null!=e.excludeElement&&e.excludeElement.length>0&&(e.excludeElement.push('[page-load-exclude="1"]'),e.excludeElement.push('[page-load-exclude="true"]'),pageLoadConfig.excludeElement=e.excludeElement),null!=e.beforeSend&&"function"==typeof e.beforeSend&&(pageLoadConfig.beforeSend=e.beforeSend),null!=e.onLoad&&"function"==typeof e.onLoad&&(pageLoadConfig.onLoad=e.onLoad),null!=e.onSuccess&&"function"==typeof e.onSuccess&&(pageLoadConfig.onSuccess=e.onSuccess),null!=e.onError&&"function"==typeof e.onError&&(pageLoadConfig.onError=e.onError),pageLoadRefresh()},pageLoadRefresh=function(){var e=document.location.origin;null!=pageLoadConfig.selector&&""!=pageLoadConfig.selector&&($(pageLoadConfig.selector).on("click",function(){var n=$(this).attr("href"),t=$(this).attr("page-load-disable"),o=!1;if(null!=t&&("true"==t||"1"==t||!0===t))return!0;if(null!=n&&"#"!=n&&""!=n){var l=n.charAt(0),a="";if("#"!=l){var r=document.createElement("a");r.href=n,a=r.href}if(null!=a&&""!=a){var i=new URL(a);null!=i&&null!=i.origin&&i.origin==e&&(o=!0)}}return o?(pageLoadFromURL(n),!1):void 0}),$("form").on("submit",function(e){e.preventDefault();var n=$(this).serialize(),t=$(this).attr("action"),o=$(this).attr("method");if(null!=n&&""!=n){var l=window.location.href;null!=t&&""!=t&&(l=t),null!=o&&"POST"!=o&&(l.indexOf("?")>-1&&(l=l.substr(0,l.indexOf("?"))),l=l+"?"+n),pageLoadFromURL(l,n)}}))},pageLoadFromURL=function(e,n){window.stop();var t={};null!=n&&(t=n),$.ajax({url:e,type:"GET",data:t,beforeSend:function(){$("html, body").animate({scrollTop:0},300),null!=pageLoadConfig.beforeSend&&null!==pageLoadConfig.beforeSend&&pageLoadConfig.beforeSend(e,t)},success:function(n){null!=n&&""!=n&&pageLoadDraw(n,e),null!=pageLoadConfig.onSuccess&&null!==pageLoadConfig.onSuccess&&pageLoadConfig.onSuccess(e,t)},error:function(n){null!=pageLoadConfig.onError&&null!==pageLoadConfig.onError&&pageLoadConfig.onError(e,t),pageLoadDraw(n.responseText,e)}})},pageLoadDraw=function(e,n){var t=new DOMParser;if(null!=e&&""!=e)var o=t.parseFromString(e,"text/html"),l=$(o);if(null!=pageLoadConfig.onLoad&&null!==pageLoadConfig.onLoad){var a=pageLoadConfig.onLoad(l,n);null!=a&&a.length>0&&(l=a)}if(null!=l&&l.length>0){var r=l.children("html"),i=r.children("head"),u=r.children("body"),d=[],c=[],s="",f=i.html(),h="";for(document=t.parseFromString(e,"text/html"),window.history.pushState({data:e,href:n},$("title").text(),n),$("head").children().each(function(){var e=!0,n=$(this),t=n.prop("outerHTML");if(null!=t&&""!=t){var o=n.attr("page-load-disable"),l=f.indexOf(t);if(null!=o&&("true"==o||"1"==o||!0===o)&&l>-1)e=!1;else if(n.is("script")){var a=n.attr("src");null!=a&&""!=a&&l>-1&&(e=!1)}else if(n.is("link")){var r=n.attr("href");null!=r&&""!=r&&l>-1&&(e=!1)}else l>-1&&(e=!1)}e?n.remove():d.push({html:t,element:n})}),i.children().each(function(){var e=$(this),n=e.prop("outerHTML"),t=d.findIndex(e=>e.html===n);if(t<0&&null!=h&&""!=h){var o=d.findIndex(e=>e.html===h);if(o>-1){var l=d[o];null!=l&&null!=l.element&&($(n).insertAfter(l.element),d.push({html:n,element:l.element.next()}))}}h=n}),null!=pageLoadConfig.excludeElement&&pageLoadConfig.excludeElement.length>0&&$.each(pageLoadConfig.excludeElement,function(e,n){var t=$("body").children(n);null!=t&&t.length>0&&t.each(function(){var e=$(this).prop("outerHTML");c.push({tag:n,html:e,element:$(this)})})}),u.children().each(function(){var e=!0,n=$(this),t=n.prop("outerHTML");if(null!=t&&""!=t){var o=[],l=n.prop("tagName").toLowerCase();if(n.is("script")){var a=n.attr("src"),r=n.attr("page-load-exclude-js");null==r||!0!==r&&"true"!=r&&"1"!=r?null!=a&&""!=a&&null!=pageLoadConfig.excludeJS&&pageLoadConfig.excludeJS.length>0&&$.each(pageLoadConfig.excludeJS,function(n,t){-1!==a.indexOf(t)&&(e=!1)}):e=!1}if(null!=c&&c.length>0){var i=c.findIndex(e=>e.tag===l);if(i>-1)t=c[i].html,c.splice(i,1);else{o=[];$.each(this.attributes,function(){if(this.specified){var e=this.name,n=this.value;switch(e){case"id":""!=n&&o.push("#"+n);break;case"class":if(""!=n){var t=n.split(" ");$.each(t,function(e,n){o.push("."+n)})}break;default:o.push("["+e+"]"),""!=n&&(o.push("["+e+'="'+n+'"]'),o.push("["+e+"='"+n+"']"))}}}),o.length>0&&$.each(o,function(e,n){var o=c.findIndex(e=>e.tag===n);o>-1&&(t=c[o].html,c.splice(o,1))})}}}e&&(s+=t)}),null!=c&&c.length>0&&$.each(c,function(e,n){var t=n.html;null!=t&&""!=t&&(s+=t)}),$("body").empty(),pageLoadInsertHTML(s,document.body);$("html")[0].attributes.length>0;)$("html")[0].removeAttributeNode($("html")[0].attributes[0]);for(r[0].attributes.length>0&&$.each(r[0].attributes,function(e,n){if(this.specified&&null!=this.name){var t=this.name;n=this.value;null!=n?$("html").attr(t,n):$("html").attr(t,"")}});$("body")[0].attributes.length>0;)$("body")[0].removeAttributeNode($("body")[0].attributes[0]);u[0].attributes.length>0&&$.each(u[0].attributes,function(e,n){if(this.specified&&null!=this.name){var t=this.name;n=this.value;null!=n?$("body").attr(t,n):$("body").attr(t,"")}})}else window.location.reload()},pageLoadInsertHTML=function(e,n,t=!0){t&&(n.innerHTML="");let o=document.createElement("div");o.innerHTML=e;let l=o.querySelectorAll("script"),a=o.childNodes;for(let e=0;e<a.length;e++)n.appendChild(a[e].cloneNode(!0));for(let e=0;e<l.length;e++){let n=document.createElement("script");n.type=l[e].type||"text/javascript",l[e].hasAttribute("src")&&(n.src=l[e].src),n.innerHTML=l[e].innerHTML,document.head.appendChild(n),document.head.removeChild(n)}return!0};$(document).ready(function(){var e="<!DOCTYPE html>"+$("html")[0].outerHTML;window.history.pushState({data:e,href:window.location.href},$("title").text(),window.location.href)}),window.onpopstate=function(e){if(e.state){var n=e.state.data;pageLoadDraw(n)}};