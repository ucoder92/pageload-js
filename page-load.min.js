/*
 Page load - jQuery library
 URL: https://github.com/ucoder92/pageload-js
 Version: 1.0.7
 */var pageLoadConfig={selector:"a",excludeJS:[],excludeElement:['[page-load-exclude="1"]','[page-load-exclude="true"]'],beforeSend:null,onLoad:null,onSuccess:null,onError:null},pageLoadInit=function(e){null!=e.selector&&""!=e.selector&&(pageLoadConfig.selector=e.selector),null!=e.excludeJS&&e.excludeJS.length>0&&(pageLoadConfig.excludeJS=e.excludeJS),null!=e.excludeElement&&e.excludeElement.length>0&&(e.excludeElement.push('[page-load-exclude="1"]'),e.excludeElement.push('[page-load-exclude="true"]'),pageLoadConfig.excludeElement=e.excludeElement),null!=e.beforeSend&&"function"==typeof e.beforeSend&&(pageLoadConfig.beforeSend=e.beforeSend),null!=e.onLoad&&"function"==typeof e.onLoad&&(pageLoadConfig.onLoad=e.onLoad),null!=e.onSuccess&&"function"==typeof e.onSuccess&&(pageLoadConfig.onSuccess=e.onSuccess),null!=e.onError&&"function"==typeof e.onError&&(pageLoadConfig.onError=e.onError)};(function(e){e(document).ready(function(){var t=window.location.href,l="<!DOCTYPE html>\r\n"+e("html")[0].outerHTML;window.history.pushState({data:l,href:t},"",t),n()}),window.onpopstate=function(e){if(null!=e.state){var n=e.state.data,t=e.state.href;null!=n&&null!=t&&(console.log(e.state),l(n,t,!1))}};var n=function(){var n=document.location.origin;null!=pageLoadConfig.selector&&""!=pageLoadConfig.selector&&e(document).on("click",pageLoadConfig.selector,function(){var l=e(this).attr("href"),o=e(this).attr("page-load-disable"),a=!1;if(null!=o&&("true"==o||"1"==o||!0===o))return!0;if(null!=l&&"#"!=l&&""!=l){var r=l.charAt(0),i="";if("#"!=r){var u=document.createElement("a");u.href=l,i=u.href}if(null!=i&&""!=i){var d=new URL(i);null!=d&&null!=d.origin&&d.origin==n&&(a=!0)}}return a?(t(l),!1):void 0})},t=function(n,t){window.stop();var o={};null!=t&&(o=t),e.ajax({url:n,type:"GET",data:o,beforeSend:function(){e("html, body").animate({scrollTop:0},300),null!=pageLoadConfig.beforeSend&&null!==pageLoadConfig.beforeSend&&pageLoadConfig.beforeSend(n,o)},success:function(e){null!=e&&""!=e&&l(e,n,!0),null!=pageLoadConfig.onSuccess&&null!==pageLoadConfig.onSuccess&&pageLoadConfig.onSuccess(n,o)},error:function(e){null!=pageLoadConfig.onError&&null!==pageLoadConfig.onError&&pageLoadConfig.onError(n,o),l(e.responseText,n,!0)}})},l=function(n,t,l){var a=new DOMParser;if(null!=n&&""!=n)var r=a.parseFromString(n,"text/html"),i=e(r);if(null!=pageLoadConfig.onLoad&&null!==pageLoadConfig.onLoad){var u=pageLoadConfig.onLoad(i,t);null!=u&&u.length>0&&(i=u)}if(null!=l&&l&&window.history.pushState({data:n,href:t},"",t),null!=i&&i.length>0){var d=i.children("html"),c=d.children("head"),s=d.children("body"),f=[],h=[],g="",p=c.html(),m="";for(document=a.parseFromString(n,"text/html"),e("head").children().each(function(){var n=!0,t=e(this),l=t.prop("outerHTML");if(null!=l&&""!=l){var o=t.attr("page-load-disable"),a=p.indexOf(l);if(null!=o&&("true"==o||"1"==o||!0===o)&&a>-1)n=!1;else if(t.is("script")){var r=t.attr("src");null!=r&&""!=r&&a>-1&&(n=!1)}else if(t.is("link")){var i=t.attr("href");null!=i&&""!=i&&a>-1&&(n=!1)}else a>-1&&(n=!1)}n?t.remove():f.push({html:l,element:t})}),c.children().each(function(){var n=e(this),t=n.prop("outerHTML"),l=f.findIndex(e=>e.html===t);if(l<0&&null!=m&&""!=m){var o=f.findIndex(e=>e.html===m);if(o>-1){var a=f[o];null!=a&&null!=a.element&&(e(t).insertAfter(a.element),f.push({html:t,element:a.element.next()}))}}m=t}),null!=pageLoadConfig.excludeElement&&pageLoadConfig.excludeElement.length>0&&e.each(pageLoadConfig.excludeElement,function(n,t){var l=e("body").children(t);null!=l&&l.length>0&&l.each(function(){var n=e(this).prop("outerHTML");h.push({tag:t,html:n,element:e(this)})})}),s.children().each(function(){var n=!0,t=e(this),l=t.prop("outerHTML");if(null!=l&&""!=l){var o=[],a=t.prop("tagName").toLowerCase();if(t.is("script")){var r=t.attr("src"),i=t.attr("page-load-exclude-js");null==i||!0!==i&&"true"!=i&&"1"!=i?null!=r&&""!=r&&null!=pageLoadConfig.excludeJS&&pageLoadConfig.excludeJS.length>0&&e.each(pageLoadConfig.excludeJS,function(e,t){-1!==r.indexOf(t)&&(n=!1)}):n=!1}if(null!=h&&h.length>0){var u=h.findIndex(e=>e.tag===a);if(u>-1)l=h[u].html,h.splice(u,1);else{o=[];e.each(this.attributes,function(){if(this.specified){var n=this.name,t=this.value;switch(n){case"id":""!=t&&o.push("#"+t);break;case"class":if(""!=t){var l=t.split(" ");e.each(l,function(e,n){o.push("."+n)})}break;default:o.push("["+n+"]"),""!=t&&(o.push("["+n+'="'+t+'"]'),o.push("["+n+"='"+t+"']"))}}}),o.length>0&&e.each(o,function(e,n){var t=h.findIndex(e=>e.tag===n);t>-1&&(l=h[t].html,h.splice(t,1))})}}}n&&(g+=l)}),null!=h&&h.length>0&&e.each(h,function(e,n){var t=n.html;null!=t&&""!=t&&(g+=t)}),e("body").empty(),o(g,document.body);e("html")[0].attributes.length>0;)e("html")[0].removeAttributeNode(e("html")[0].attributes[0]);for(d[0].attributes.length>0&&e.each(d[0].attributes,function(n,t){if(this.specified&&null!=this.name){var l=this.name;t=this.value;null!=t?e("html").attr(l,t):e("html").attr(l,"")}});e("body")[0].attributes.length>0;)e("body")[0].removeAttributeNode(e("body")[0].attributes[0]);s[0].attributes.length>0&&e.each(s[0].attributes,function(n,t){if(this.specified&&null!=this.name){var l=this.name;t=this.value;null!=t?e("body").attr(l,t):e("body").attr(l,"")}})}else window.location.reload()},o=function(e,n,t=!0){t&&(n.innerHTML="");let l=document.createElement("div");l.innerHTML=e;let o=l.querySelectorAll("script"),a=l.childNodes;for(let e=0;e<a.length;e++)n.appendChild(a[e].cloneNode(!0));for(let e=0;e<o.length;e++){let n=document.createElement("script");n.type=o[e].type||"text/javascript",o[e].hasAttribute("src")&&(n.src=o[e].src),n.innerHTML=o[e].innerHTML,document.head.appendChild(n),document.head.removeChild(n)}return!0}})(jQuery);